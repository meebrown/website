<!DOCTYPE html>
<html lang="en">
    <body onload="init()">
        <canvas id="world"></canvas>
    </body>

    <script type="text/javascript">

        const canvas = document.getElementById("world");
        const context = canvas.getContext("2d");
        window.w = 0;
        window.h = 0;

        const resizeWindow = function() {
        window.w = (canvas.width = window.innerWidth);
        return window.h = (canvas.height = window.innerHeight);
        };

        window.addEventListener('resize', resizeWindow, false);
        
        window.onload = () => setTimeout(resizeWindow, 0);

        var canvas, ctx, flag = false,
        prevX = 0,
        currX = 0,
        prevY = 0,
        currY = 0,
        dot_flag = false;

        var x = "black",
            y = 5;
        
        function init() {
            w = canvas.width;
            h = canvas.height;
        
            canvas.addEventListener("mousemove", function (e) {
                findxy('move', e)
            }, false);
            canvas.addEventListener("mousedown", function (e) {
                findxy('down', e)
            }, false);
            canvas.addEventListener("mouseup", function (e) {
                findxy('up', e)
            }, false);
            canvas.addEventListener("mouseout", function (e) {
                findxy('out', e)
            }, false);
        }
        
        function draw() {
            context.beginPath();
            context.moveTo(prevX, prevY);
            context.lineTo(currX, currY);
            context.strokeStyle = x;
            context.lineWidth = y;
            context.stroke();
            context.closePath();
        }
        
        
        function findxy(res, e) {
            if (res == 'move') {
                prevX = currX;
                prevY = currY;
                currX = e.clientX - canvas.offsetLeft;
                currY = e.clientY - canvas.offsetTop;
                draw();
        
                flag = true;
                dot_flag = true;
                if (dot_flag) {
                    context.beginPath();
                    context.fillStyle = x;
                    context.fillRect(currX, currY, 2, 2);
                    context.closePath();
                    dot_flag = false;
                }
            }
            if (res == 'up' || res == "out") {
                flag = false;
            }
        }
    </script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>
</html>